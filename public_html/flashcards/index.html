<!doctype html>
<html>
    <head>
        <title>Molecule Flashcards</title>
        <meta name = 'description' content = 'Molecule Flashcard Game'/>
        <meta name = 'author' content = 'Millersville University'/>
        <meta name = 'viewport' content = 'width=device-width'>
        <meta http-equiv = 'content-type' content='text/html; charset=UTF-8'>

        <!-- Bootstrap / Delaware Header Template -->
        <link href = '../bootstrap/css/cerulean.min.css' rel = 'stylesheet' media = 'screen'>
        <link href = '../src/css/custom.css' rel = 'stylesheet' media = 'screen'>

        <!-- css files -->
        <link rel = 'stylesheet' type = 'text/css' href = 'src/css/MoleculeFlashcards.css'> 
        <link rel = 'stylesheet' type = 'text/css' href = 'src/css/GameScreen.css'>
        <link rel = 'stylesheet' type = 'text/css' href = 'src/css/HighScoreScreen.css'>
        <link rel = 'stylesheet' type = 'text/css' href = 'src/css/LoginScreen.css'>
        <link rel = 'stylesheet' type = 'text/css' href = 'src/css/MenuScreen.css'>
        <link rel = 'stylesheet' type = 'text/css' href = 'src/css/TutorialScreen.css'>
        
        <!-- js lib files -->
        <script src='libs/three.js'></script>
        <script src='libs/jQuery.js'></script>
        <script src='libs/md5-min.js'></script>

        <!--js framework files-->
        <script src='../framework/src/Application.js'></script>
        <script src='../framework/src/CommunicationManager.js'></script>
        <script src='../framework/src/CookieManager.js'></script>
        <script src='../framework/src/Exceptions.js'></script>
        <script src='../framework/src/TextLoader.js'></script>
        <script src='../framework/src/Game.js'></script>
        <script src='../framework/src/Map.js'></script>
        <script src='../framework/src/MouseManager.js'></script>
        <script src='../framework/src/Timer.js'></script>  
        <script src='../framework/src/Screen.js'></script>
        <script src='../framework/src/Iterator.js'></script>

        <!-- Delaware / Exscitech Header Files -->
        <script src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="../bootstrap/js/bootstrap.min.js"></script>
        <!-- Login form -->
        <script type="text/javascript" src="../src/js/cookies.js" language="javascript"></script>
        <script type="text/javascript" src="../src/js/LoginForm.js" language="javascript"></script>

        <!--js Molecule Game files-->
        <script src='src/js/FCCommunicationManager.js'></script>
        <script src='src/js/Events.js'></script>
        <script src='src/js/GameScreen.js'></script>
        <script src='src/js/UserData.js'></script>
        <script src='src/js/LoginScreen.js'></script>
        <script src='src/js/MenuScreen.js'></script>
        <script src='src/js/HighScoreScreen.js'></script>
        <script src='src/js/TutorialScreen.js'></script>
        <script src='src/js/ScoreManager.js'></script> 
        <script src='src/js/MoleculeGame.js'></script>
        <script src='src/js/MoleculeGeometryBuilder.js'></script> 

        <script>
            $(function( ) {
                /* Mouse Events */
                $('#container')
                    .mousedown( MouseManager.onMouseDown )
                    .mouseup( MouseManager.onMouseUp )
                    .mousemove( MouseManager.onMouseMove );

                /* Temporary touch events for demo */
                $('#container').on('touchstart',function(e){
                    e.button = MouseManager.LEFT_STD_BUTTON;
                    e.screenX = e.originalEvent.touches[0].screenX;
                    e.screenY = e.originalEvent.touches[0].screenY;
                    e.preventDefault();
                    MouseManager.onMouseDown(e);
                });
                $('#container').on('touchmove',function(e){
                    e.screenX = e.originalEvent.touches[0].screenX;
                    e.screenY = e.originalEvent.touches[0].screenY;
                    e.preventDefault();
                    MouseManager.onMouseMove(e);
                });
                $('#container').on('touchend',function(e){
                    e.button = MouseManager.LEFT_STD_BUTTON;
                    e.screenX = 400;//garbage
                    e.screenY = 400;//garbage
                    e.preventDefault();
                    MouseManager.onMouseUp(e);
                });

                /* Anti-Bot-Spam Measure */
                $('#contact').text('saschlac' + '@udel' + '.edu');
                /* Initialize */
                var WIDTH = 800;
                var HEIGHT = 600;
                var VIEW_ANGLE = 45,
                        ASPECT = WIDTH / HEIGHT,
                        NEAR = 0.1,
                        FAR = 10000;

                var camera = new THREE.PerspectiveCamera(VIEW_ANGLE,
                        ASPECT,
                        NEAR,
                        FAR);
                camera.position.y = 7;
                camera.position.z = 5;
                camera.position.x = 3;
                camera.lookAt(new THREE.Vector3 (0, 0, 0));
                var game = new MoleculeGame( );
                var application = new Application(game, camera, 'Game Test', WIDTH, HEIGHT);
                application.performGameLoop( );
            });
        </script>
    </head>
    <body>
        <div id = 'game' class='flashcardsGame'>
            <div id = 'container'>
                <!-- canvas goes here -->

                <!-- Exscitech Header -->
                <div class="navbar navbar-default navbar-static-top">
                    <div class="container">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="/"><img src="../assets/exscitech_logo.png"></a>
                            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </div>
                        
                        <div class="navbar-collapse collapse" id="navbar-main">
                            <ul class="nav navbar-nav">
                                <li><a href = "../jobSubmission">Job Submission</a></li>
                                <li class = 'active'><a href = "../flashcards">Flashcards</a></li>
                                <li><a href = "../moleculeViewer">Molecule Viewer</a></li>
                                <li><a href = "/forum.php">Forum</a></li>
                                <li class = "dropdown">
                                  <a href = "#" class = "dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                  <ul class="dropdown-menu">
                                      <li><a href="/teachersContact.php">For Teachers</a></li>
                                      <li><a href="/contrib.php">Contributors</a></li>
                                      <li><a href="/contact.php">Contact Us</a></li>
                                      <li><a href="http://docking.cis.udel.edu">Docking@Home</a></li>
                                  </ul>
                                </li>
                            </ul>

                            <ul class="nav navbar-nav navbar-right" id="rightNavbar">
                                <li id = 'accountButtonWrapper' class="dropdown fade">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <span id = 'accountButton'><!-- User Name --></span>
                                        <b class="caret"></b>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a href="#">My Account</a></li>
                                        <li><a href="#">Logout</a></li>
                                    </ul>
                                </li>
                                

                                <!-- If not logged in-->
                                <!-- Temp remove until other login/register works?
                                <li class="dropdown">
                                    <a class="dropdown-toggle" data-toggle="dropdown">Register</b></a>
                                    <ul class="dropdown-menu" style="padding: 15px;">
                                        <form class="form-register" _lpchecked="1" style="width: 250px" action="" onSubmit="return false;">
                                            <input id="regEmail" type="text" class="form-control" placeholder="Email address" autofocus="">
                                            <input id="regUser" type="text" class="form-control" placeholder="Username">
                                            <input id="regPass1" type="password" class="form-control" placeholder="Password">
                                            <input id="regPass2" type="password" class="form-control" placeholder="Repeat Password">
                                            <button id="regBtn" class="btn btn-primary btn-block" type="submit">Register</button>
                                        </form>
                                    </ul>
                                </li>
                                
                                <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown">Sign In<b class="caret"></b></a>
                                    <ul class="dropdown-menu" style="padding: 15px;">
                                        <form class="form-signin" _lpchecked="1" style="width: 250px" action="" onSubmit="return false;">
                                            <input id="loginEmail" type="text" class="form-control" placeholder="Email address" autofocus="">
                                            <input id="loginPass" type="password" class="form-control" placeholder="Password">
                                            <button id="loginBtn" class="btn btn-primary btn-block" type="submit">Sign in</button>
                                            <p>Forgot your password? <a onclick="alert(\'TODO\');">Click Here</a></p>
                                        </form>
                                    </ul>
                                </li>
                                -->
                            </ul>
                        </div>
                    </div>
                </div>

                <div id = 'errorMessage' class = 'screen fade'>
                    <h1>Oops!</h1>
                    <p class = 'errorText'>
                        Looks like an error has occurred! Make sure you are
                        connected to the internet, including logging in to
                        the wifi (if necessary).
                    </p>
                    <p class = 'errorText'>
                        If this problem persists, contact <span id = 'contact'></span>, 
                        and let him know Error <span id = 'errorCode'>404</span> has occurred.
                    </p>
                    <p class = 'errorText'>
                        Press the button below to try again. <span id = 'retryCount'></span>
                    </p>
                    <div class = 'button blueButton returnMenuButton'
                         data-logic = 'retry'>
                        Retry Connection
                    </div>
                </div>

                <div id = 'loginUI' class = 'screen fade'>
                    <h1>Molecule Flashcards!</h1>
                    <div id = 'loginUIContainer' class = 'inputContainer'>
                        <div id='loginBox' class='slide inputBox'>
                            <h2>Login</h2>
                            <form>
                                <label>Email:
                                    <input type = 'text' name = 'emailLogin' id = 'emailLogin'>
                                </label>
                                <label>Password:
                                    <input type = 'password' name = 'passLogin' id = 'passLogin'>
                                </label>
                            </form>
                            <div class = 'button blueButton' id = 'loginButton' data-logic = 'login'>
                                Login
                            </div>
                            <span id = 'loginMessage' class = 'error hide'> Invalid username/password </span><br/>
                            <span>Not a member?</span>
                            <a class = 'basicLink' data-logic = 'showCreate'>
                                Create an account
                            </a>
                        </div>
                        <div id = 'registerBox' class = 'slide up inputBox'>
                            <h2>Register</h2>
                            <form id = 'registerForm' >
                                <label>Username:
                                    <input id = 'usernameRegister' type = 'text' name = 'usernameRegister'>
                                </label>
                                <label>Email:
                                    <input id = 'emailRegister' type = 'text' name = 'emailRegister'>
                                </label>
                                <label>Password:
                                    <input id = 'passRegister' type = 'password' name = 'passRegister'>
                                </label>
                                <label>Re-enter Password:
                                    <input id = 'passRepRegister' type = 'password' name = 'passRepRegister'>
                                </label>
                            </form>
                            <div id = 'registerButton' class = 'button blueButton' data-logic = 'register'>
                                Register!
                            </div>
                            <span id = 'registerMessage' class = 'good hide'> 
                                Registration Complete! You may now log in.
                            </span>
                            <span id = 'registerMismatch' class = 'error hide'> 
                                Passwords Do Not Match.
                            </span>
                            <span id = 'registerFail' class = 'error hide'> 

                            </span>
                            <br/>
                            <span>Have an account?</span> 
                            <a class = 'basicLink' data-logic = 'showLogin'>
                                Login
                            </a>
                        </div>
                    </div>
                </div>

                <div id = 'mainMenuUI' class = 'screen fade'>
                    <div id = 'mainMenuLeft'>
                        <h1 class = 'mainMenuTitle'>Select a Topic!</h1>
                        <div id = 'topicList'>
                            <!-- Topics added dynamically here -->
                        </div>
                        <div id="tutorialButton" class = 'button blueButton'
                             data-logic = 'tutorial'>
                            Tutorial
                        </div>
                    </div>
                    <div id = 'mainMenuRight'>
                        <div id = 'timeLimit'>
                            <!-- Dynamically added -->
                        </div>
                        <div id = 'questionCount'>
                            <!-- Dynamically Added -->
                        </div>
                        <div id = 'highScores'>
                            <div id = 'names'>
                                <!--Dyanically add names -->
                            </div>
                            <div id = 'scores'>
                                <!-- Dynamically add scores -->
                            </div>
                        </div>
                        <div class = 'button greenButton'
                            data-logic = 'start'>
                            Start
                        </div>
                    </div>
                </div>

                <div id = 'loadingUI' class = 'fade'>
                    <div id = 'loadingMessage'>
                        Loading...
                    </div>
                    <div 
                        class = 'button greenButton hide'
                        id = 'beginButton'
                        data-logic = 'begin'>
                        Begin
                    </div>
                </div>

                <div id = 'gameUI' class = 'screen'>

                    <div id = 'rightPanel' class = 'fade'>
                        <div id = 'timeAndScore'>
                            Time Left: <div id = 'time'>2:00</div><br />
                            Score: <div id = 'score'>0</div><br />
                        </div>
                        <h2 id='scoreChange' class="scoreChange">+25</h2>
                        <div id = 'gameButtons'>
                            <div 
                                class = 'button' 
                                data-logic = '1'>
                                Option 1
                            </div>
                            <div 
                                class = 'button' 
                                data-logic = '2'>
                                Option 2
                            </div>
                            <div 
                                class = 'button' 
                                data-logic = '3'>
                                Option 3
                            </div>
                            <div 
                                class = 'button' 
                                data-logic = '4'>
                                Option 4
                            </div>
                        </div>
                    </div>

                    <div id = 'questionPanel' class = 'fade'>
                        <!-- Question text if there is any -->
                    </div>

                    <div id = 'gameCompletedUI' class = 'fade'>
                        <div id = 'finalScore'>
                            <!-- Final Score -->
                        </div>
                        <div id = 'rank'>
                            <!-- Rank in leaderboards -->
                        </div>
                        <br />
                        <div class = 'button blueButton returnButton' 
                             data-logic = 'return'>
                            Return
                        </div>
                    </div>

                    <div id = 'tutorialUI' class = 'screen fade'>
                        Molecules will appear in this window. If there is a question
                        beyond identifying the molecule, it will appear at the bottom of
                        your screen.<br /> <br />
                        Select the correct answer from the panel on the right. <br /> <br />
                        Multiple correct answers in a row will grant combo bonuses, while
                        incorrect answers will cost you points, and end combos. <br /> <br />
                        Answer as many questions as you can in the given time!
                        <div class = 'button blueButton returnMenuButton' 
                             data-logic = 'endTutorial'>
                            Return
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
